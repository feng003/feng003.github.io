<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <title>mysql  transaction - wiki</title>
        <meta name="keywords" content="个人wiki"/>
        <meta name="description" content="个人wiki"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Sql">Sql</a>&nbsp;»&nbsp;<a href="/#Sql-Mysql Advanced">Mysql Advanced</a>&nbsp;»&nbsp;mysql  transaction</div>
</div>
<div class="clearfix"></div>
<div id="title">mysql  transaction</div>
  <div id="content">
  <blockquote>
<p>四种事务隔离级别</p>
</blockquote>
<ol>
<li>
<p>read uncommitted(<em>脏读（Dirty Read）</em>) 几乎不被使用，在selelct将会看到各种奇怪的数据现象，当然包括所有事务都可以看到其他未提交事务的执行结果。</p>
</li>
<li>
<p>read commit，一个事务只能看见已经提交事务所做的改变。这种隔离级别 也支持所谓的 <em>不可重复读</em></p>
</li>
<li>
<p>repeatable read  所有的select在第一次一致读以后 在事务中都会使用一样的数据状态快照。</p>
<p>update，delete都会使用间隙锁来保证数据的安全。防止幻读 （Phantom Read）。
这是mysql默认的事务隔离级别，确保同一事务的多个实例在并发读取数据时，会看到同样的数据行。</p>
</li>
<li>
<p>serializable(可串行化) 对数据的要求最为严格，自然也是性能最差的一种隔离级别。</p>
<div class="hlcode"><pre><span class="err">在所有的</span><span class="n">select</span><span class="err">语句中都是默认加了一个</span><span class="n">lock</span> <span class="n">in</span> <span class="n">share</span> <span class="n">mode</span><span class="err">的锁</span>
</pre></div>


</li>
</ol>
<blockquote>
<p>简单的说，幻读指当用户读取某一范围的数据行时，另一个事务又在该范围内插入了新行，当用户再读取该范围的数据行时，会发现有新的“幻影” 行。InnoDB和Falcon存储引擎通过多版本并发控制（MVCC，Multiversion Concurrency Control）机制解决了该问题。</p>
<p>脏读(Drity Read)：某个事务已更新一份数据，另一个事务在此时读取了同一份数据，由于某些原因，前一个RollBack了操作，则后一个事务所读取的数据就会是不正确的。</p>
<p>不可重复读(Non-repeatable read):在一个事务的两次查询之中数据不一致，这可能是两次查询过程中间插入了一个事务更新的原有的数据。</p>
</blockquote>
<p><a href="https://fdx321.github.io/2016/09/09/MySQL%E4%BA%8B%E5%8A%A1%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/#more">mysql事务学习</a></p>
<p><a href="http://xm-king.iteye.com/blog/770721">参考资料</a></p>
<p><a href="http://www.cnblogs.com/zemliu/archive/2012/06/17/2552301.html">参考资料</a></p>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2016 feng003.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>